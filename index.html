<!DOCTYPE html>
<html lang="en" class="dont-starve-theme">

<head>
    <meta charset="UTF-8">
    <meta property="og:title" content="RPS Roguelike Adventure">
    <meta property="og:description"
        content="A roguelike game based on Rock Paper Scissors with Don't Starve-inspired visuals">
    <meta property="og:image"
        content="https://github.com/longmaba/rps-hero/blob/30d25bf1960ee7d5d61292f28fd686030c21c6d2/assets/preview.png?raw=true">
    <meta property="og:url" content="https://github.com/longmaba/rps-hero">
    <meta name="twitter:card" content="summary_large_image">
    <title>RPS Roguelike</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="dont-starve-theme.css">
    <!-- Added Google Font for Don't Starve feel -->
    <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Background Music Audio Element (hidden) -->
    <audio id="background-music" loop>
        <source src="assets/music/bgm.ogg" type="audio/ogg">
        Your browser does not support the audio element.
    </audio>

    <div id="game-container">
        <h1>🎮 RPS Roguelike Adventure 🎮</h1>
        <div id="game-modes">
            <a href="multiplayer.html" class="game-mode-btn">Play Multiplayer</a>
            <button id="toggle-music" class="game-mode-btn">🔊 Music</button>
        </div>

        <!-- Toast Container for Notifications -->
        <div id="toast-container" class="toast-container"></div>

        <div id="run-map">
            <h2>Adventure Map</h2>
            <div id="node-map-container">
                <!-- Nodes will be generated here by JavaScript -->
            </div>
        </div>
        <div id="status">
            <div>
                <p>💪 Player HP:</p>
                <div class="hp-bar">
                    <div class="hp-bar-fill" id="player-hp-bar" style="width: 100%;"></div>
                    <span class="hp-text" id="player-hp">100</span>
                </div>
            </div>
            <div>
                <p>👹 <span id="enemy-name">Enemy</span> HP:</p>
                <div class="hp-bar">
                    <div class="hp-bar-fill" id="enemy-hp-bar" style="width: 100%;"></div>
                    <span class="hp-text" id="enemy-hp">100</span>
                </div>
                <p id="enemy-description" class="enemy-desc"></p>
            </div>
            <p>💰 Coins: <span id="player-currency">0</span> | 🔄 Round: <span id="round-number">1</span></p>
            <div id="currency-container" class="hidden">
                <!-- Currency display now moved to the line above -->
            </div>
            <div id="inventory-container">
                <p>🎒 Inventory: <span id="inventory">None</span></p>
            </div>
            <div id="debuff-container" class="hidden">
                <!-- Debuff info will be inserted here by JavaScript -->
            </div>
        </div>
        <div id="battle-screen" class="hidden">
            <h2>Choose Your Moves</h2>
            <div id="enemy-planned-actions" class="action-row">
                <div class="action-label">Enemy Moves:</div>
                <div id="enemy-actions"></div>
            </div>
            <div id="planned-actions-container" class="action-row">
                <div class="action-label">Your Moves:</div>
                <div id="planned-actions"></div>
            </div>
            <div id="actions">
                <button onclick="addAction('Rock')" aria-label="Select Rock">✊</button>
                <button onclick="addAction('Paper')" aria-label="Select Paper">✋</button>
                <button onclick="addAction('Scissors')" aria-label="Select Scissors">✌️</button>
                <button onclick="clearAllActions()">🗑️ Clear All</button>
                <button onclick="resolveRound()" id="resolve-btn" disabled>⚔️ Fight!</button>
            </div>
            <div class="log-header">
                <h3>Battle Log</h3>
                <button onclick="clearBattleLog()" class="clear-log-btn">🗑️ Clear Log</button>
            </div>
            <div id="resolution-log"></div>
        </div>

        <div id="item-selection" class="hidden">
            <h2 id="item-selection-heading">Choose an Item</h2>
            <p id="item-selection-message">Select one item to add to your inventory:</p>
            <div id="item-options"></div>
        </div>

        <div id="game-over" class="hidden">
            <h2>Game Over</h2>
            <p id="game-over-message"></p>
            <button onclick="startNewRun()">Start New Adventure</button>
        </div>
    </div>

    <footer class="game-footer">
        <p>Created by <a href="https://github.com/longmaba/rps-hero" target="_blank">longmaba</a> | Contact: <a
                href="mailto:longmaba@gmail.com">longmaba@gmail.com</a> | Version: 1.7</p>
    </footer>

    <script src="config.js"></script>
    <script src="game.js"></script>
    <script src="js/audio-handler.js"></script>
</body>

</html>